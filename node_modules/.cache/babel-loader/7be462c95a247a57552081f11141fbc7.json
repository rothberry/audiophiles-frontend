{"ast":null,"code":"var _jsxFileName = \"/home/phil/dev/projects/audiophiles/mod-5-audiofiles-frontend/src/components/Nav.js\";\n\n/*eslint-disable */\nimport React, { Component } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { Button, Search, Menu, Image, Container, Grid } from \"semantic-ui-react\";\nimport { logoutUser, findDisplayUser, isCurrentUser, goDirectlyToUserProfile, goToUserProfile } from \"../actions\";\nimport _ from \"lodash\";\nconst initialState = {\n  isLoading: false,\n  value: \"\",\n  results: []\n};\n\nconst resultRenderer = ({\n  username,\n  img_url\n}) => {\n  return React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24\n    },\n    __self: this\n  }, React.createElement(Image, {\n    src: img_url,\n    circular: true,\n    inline: true,\n    alt: \"\",\n    size: \"tiny\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }), username));\n};\n\nclass Nav extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = initialState;\n\n    this.handleLogout = e => {\n      localStorage.clear();\n      this.props.logoutUser();\n      this.props.history.push(\"/login\");\n    };\n\n    this.handleResultSelect = (e, {\n      result\n    }) => {\n      this.setState({\n        value: result.username\n      });\n      this.props.goDirectlyToUserProfile(result);\n      this.props.goToUserProfile(result.id, this.props.history);\n    };\n\n    this.handleSearchChange = (e, {\n      value\n    }) => {\n      this.setState({\n        isLoading: true,\n        value\n      });\n      setTimeout(() => {\n        if (this.state.value.length < 1) return this.setState(initialState);\n        const re = new RegExp(_.escapeRegExp(this.state.value), \"i\");\n\n        const isMatch = result => re.test(result.username);\n\n        this.setState({\n          isLoading: false,\n          results: _.filter(this.props.allUsers, isMatch)\n        });\n      }, 300);\n    };\n\n    this.goToCurrentUserProfile = user_id => {\n      this.props.history.push(\"/profile/\".concat(user_id));\n      this.props.findDisplayUser(this.props.allUsers, this.props.history); // this.props.isCurrentUser(true)\n    };\n  }\n\n  render() {\n    // console.log(this.state)\n    const _this$state = this.state,\n          isLoading = _this$state.isLoading,\n          value = _this$state.value,\n          results = _this$state.results;\n    const isLoggedIn = this.props.user.isLoggedIn;\n    const searchItem = // <Menu.Item>\n    // Search For Artist:{\" \"}\n    React.createElement(Search, {\n      loading: isLoading,\n      onResultSelect: this.handleResultSelect,\n      onSearchChange: _.debounce(this.handleSearchChange, 500, {\n        leading: true\n      }),\n      fluid: true,\n      results: results,\n      value: value,\n      resultRenderer: resultRenderer,\n      minCharacters: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }) // </Menu.Item>\n    ;\n    const feedButton = React.createElement(Button, {\n      as: Link,\n      to: \"/\",\n      icon: \"music\",\n      label: \"Feed\",\n      floated: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    });\n    const profButton = React.createElement(Button, {\n      onClick: user_id => this.goToCurrentUserProfile(this.props.user.id),\n      label: \"Prof\",\n      icon: \"user\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    });\n    const newSongButton = React.createElement(Button, {\n      as: Link,\n      to: \"/newsong\",\n      icon: \"upload\",\n      label: \"Upload Song\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    });\n    const editAccountButton = React.createElement(Button, {\n      as: Link,\n      to: \"/editaccount\",\n      icon: \"edit\",\n      label: \"Edit Profile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    });\n    const logoutButton = React.createElement(Button, {\n      onClick: this.handleLogout,\n      icon: \"log out\",\n      label: \"Logout\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    });\n    const loginButton = React.createElement(Button, {\n      as: Link,\n      to: \"/login\",\n      icon: \"sign-in\",\n      label: \"Login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }); // Styling\n\n    const navButtonStyle = {}; // const navButtonStyle = { padding: \"0% 1%\" }\n\n    const eachButtonStyle = {\n      margin: \"0% 1% 0% 0%\"\n    };\n    return React.createElement(\"div\", {\n      className: \"nav-bar-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, !!isLoggedIn ? React.createElement(Menu, {\n      fixed: \"top\",\n      inverted: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      columns: \"equal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(Grid.Column, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, searchItem), feedButton, profButton, newSongButton, editAccountButton, logoutButton)) : React.createElement(Menu, {\n      fixed: \"top\",\n      inverted: true,\n      fluid: true,\n      style: navButtonStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, searchItem, React.createElement(Menu.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, feedButton), React.createElement(Menu.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, loginButton)));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state.user,\n    allUsers: state.allUsers\n  };\n};\n\nexport default connect(mapStateToProps, {\n  logoutUser,\n  findDisplayUser,\n  isCurrentUser,\n  goDirectlyToUserProfile,\n  goToUserProfile\n})(withRouter(Nav));","map":{"version":3,"sources":["/home/phil/dev/projects/audiophiles/mod-5-audiofiles-frontend/src/components/Nav.js"],"names":["React","Component","Link","withRouter","connect","Button","Search","Menu","Image","Container","Grid","logoutUser","findDisplayUser","isCurrentUser","goDirectlyToUserProfile","goToUserProfile","_","initialState","isLoading","value","results","resultRenderer","username","img_url","Nav","state","handleLogout","e","localStorage","clear","props","history","push","handleResultSelect","result","setState","id","handleSearchChange","setTimeout","length","re","RegExp","escapeRegExp","isMatch","test","filter","allUsers","goToCurrentUserProfile","user_id","render","isLoggedIn","user","searchItem","debounce","leading","feedButton","profButton","newSongButton","editAccountButton","logoutButton","loginButton","navButtonStyle","eachButtonStyle","margin","mapStateToProps"],"mappings":"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","sourcesContent":["/*eslint-disable */\nimport React, { Component } from \"react\"\nimport { Link, withRouter } from \"react-router-dom\"\nimport { connect } from \"react-redux\"\nimport { Button, Search, Menu, Image, Container, Grid } from \"semantic-ui-react\"\nimport {\n  logoutUser,\n  findDisplayUser,\n  isCurrentUser,\n  goDirectlyToUserProfile,\n  goToUserProfile\n} from \"../actions\"\nimport _ from \"lodash\"\n\nconst initialState = {\n  isLoading: false,\n  value: \"\",\n  results: []\n}\n\nconst resultRenderer = ({ username, img_url }) => {\n  return (\n    <Container>\n      <span>\n        <Image src={img_url} circular inline alt='' size='tiny' />\n        {username}\n      </span>\n    </Container>\n  )\n}\n\nclass Nav extends Component {\n  state = initialState\n\n  handleLogout = e => {\n    localStorage.clear()\n    this.props.logoutUser()\n    this.props.history.push(\"/login\")\n  }\n\n  handleResultSelect = (e, { result }) => {\n    this.setState({ value: result.username })\n    this.props.goDirectlyToUserProfile(result)\n    this.props.goToUserProfile(result.id, this.props.history)\n  }\n\n  handleSearchChange = (e, { value }) => {\n    this.setState({ isLoading: true, value })\n    setTimeout(() => {\n      if (this.state.value.length < 1) return this.setState(initialState)\n      const re = new RegExp(_.escapeRegExp(this.state.value), \"i\")\n      const isMatch = result => re.test(result.username)\n      this.setState({\n        isLoading: false,\n        results: _.filter(this.props.allUsers, isMatch)\n      })\n    }, 300)\n  }\n\n  goToCurrentUserProfile = user_id => {\n    this.props.history.push(`/profile/${user_id}`)\n    this.props.findDisplayUser(this.props.allUsers, this.props.history)\n    // this.props.isCurrentUser(true)\n  }\n\n  render() {\n    // console.log(this.state)\n    const { isLoading, value, results } = this.state\n    const { isLoggedIn } = this.props.user\n    const searchItem = (\n      // <Menu.Item>\n      // Search For Artist:{\" \"}\n      <Search\n        loading={isLoading}\n        onResultSelect={this.handleResultSelect}\n        onSearchChange={_.debounce(this.handleSearchChange, 500, {\n          leading: true\n        })}\n        fluid\n        results={results}\n        value={value}\n        resultRenderer={resultRenderer}\n        minCharacters={1}\n      />\n      // </Menu.Item>\n    )\n    const feedButton = (\n      <Button as={Link} to='/' icon='music' label='Feed' floated='left' />\n    )\n    const profButton = (\n      <Button\n        onClick={user_id => this.goToCurrentUserProfile(this.props.user.id)}\n        label='Prof'\n        icon='user'\n      />\n    )\n    const newSongButton = (\n      <Button as={Link} to='/newsong' icon='upload' label='Upload Song' />\n    )\n    const editAccountButton = (\n      <Button as={Link} to='/editaccount' icon='edit' label='Edit Profile' />\n    )\n    const logoutButton = (\n      <Button onClick={this.handleLogout} icon='log out' label='Logout' />\n    )\n    const loginButton = (\n      <Button as={Link} to='/login' icon='sign-in' label='Login' />\n    )\n\n    // Styling\n    const navButtonStyle = {}\n    // const navButtonStyle = { padding: \"0% 1%\" }\n    const eachButtonStyle = { margin: \"0% 1% 0% 0%\" }\n\n    return (\n      <div className='nav-bar-container'>\n        {!!isLoggedIn ? (\n          <Menu fixed='top' inverted>\n            <Grid columns='equal'>\n              <Grid.Column>{searchItem}</Grid.Column>\n              {/* <Button.Group style={navButtonStyle}> */}\n              {feedButton}\n              {profButton}\n              {newSongButton}\n              {editAccountButton}\n              {logoutButton}\n              {/* </Button.Group> */}\n            </Grid>\n          </Menu>\n        ) : (\n          <Menu fixed='top' inverted fluid style={navButtonStyle}>\n            {searchItem}\n            <Menu.Item>{feedButton}</Menu.Item>\n            <Menu.Item>{loginButton}</Menu.Item>\n          </Menu>\n        )}\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state.user,\n    allUsers: state.allUsers\n  }\n}\n\nexport default connect(mapStateToProps, {\n  logoutUser,\n  findDisplayUser,\n  isCurrentUser,\n  goDirectlyToUserProfile,\n  goToUserProfile\n})(withRouter(Nav))\n"]},"metadata":{},"sourceType":"module"}